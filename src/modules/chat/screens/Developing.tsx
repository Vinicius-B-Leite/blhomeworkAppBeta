import { Box, Container, Text } from "@/components"
import { useAppTheme } from "@/hooks"
import React, { useEffect } from "react"
import { Dimensions, View } from "react-native"
import Animated, {
	Extrapolation,
	interpolate,
	useAnimatedStyle,
	useSharedValue,
	withRepeat,
	withTiming,
} from "react-native-reanimated"
import { G, Path, Svg } from "react-native-svg"

const SCREEN_HEIGHT = Dimensions.get("screen").height
const SCREEN_WIDTH = Dimensions.get("screen").width

const AnimatedSvg = Animated.createAnimatedComponent(Svg)
const Developing: React.FC = () => {
	const theme = useAppTheme()
	const gearRotation = useSharedValue(0)

	const gearanimatedStyle = useAnimatedStyle(() => ({
		transform: [
			{
				rotate: interpolate(gearRotation.value, [0, 1], [1, 360]) + "deg",
			},
		],
	}))
	const bulbanimatedStyle = useAnimatedStyle(() => ({
		transform: [
			{
				rotate: interpolate(gearRotation.value, [0, 1], [20, -20]) + "deg",
			},
		],
	}))

	useEffect(() => {
		gearRotation.value = withRepeat(withTiming(1, { duration: 1500 }), -1, true)
	}, [])

	return (
		<Container>
			<Box
				mt={50}
				style={{ position: "relative" }}
				alignItems="center"
				justifyContent="center">
				<Text preset="pMediumBold" textAlign="center">
					O Chat de Classe est√° em desevolvimento :)
				</Text>
				<AnimatedSvg
					width="150"
					height="150"
					viewBox="0 0 513 513"
					fill="none"
					style={gearanimatedStyle}>
					<Path
						d="M262.67 192.909C249.538 191.612 236.327 194.405 224.845 200.907C213.363 207.408 204.171 217.3 198.528 229.227C192.885 241.155 191.066 254.535 193.321 267.536C195.576 280.537 201.794 292.523 211.125 301.853C220.455 311.184 232.441 317.402 245.442 319.657C258.443 321.912 271.823 320.094 283.751 314.45C295.678 308.807 305.57 299.615 312.071 288.133C318.573 276.651 321.366 263.44 320.07 250.309C318.591 235.588 312.069 221.832 301.607 211.371C291.146 200.91 277.39 194.387 262.67 192.909ZM416.77 256.599C416.729 263.555 416.217 270.501 415.24 277.389L460.45 312.849C462.418 314.48 463.745 316.757 464.193 319.275C464.642 321.792 464.183 324.387 462.9 326.599L420.13 400.599C418.831 402.789 416.8 404.45 414.397 405.29C411.993 406.129 409.37 406.094 406.99 405.189L362.09 387.109C359.613 386.123 356.932 385.766 354.284 386.072C351.636 386.377 349.106 387.335 346.92 388.859C340.067 393.577 332.866 397.769 325.38 401.398C323.026 402.543 320.99 404.248 319.452 406.366C317.913 408.483 316.92 410.946 316.56 413.539L309.83 461.428C309.388 463.958 308.081 466.255 306.133 467.927C304.185 469.6 301.716 470.544 299.15 470.599H213.61C211.085 470.555 208.651 469.652 206.707 468.04C204.764 466.428 203.428 464.202 202.92 461.729L196.2 413.909C195.822 411.288 194.803 408.801 193.233 406.669C191.663 404.537 189.59 402.826 187.2 401.689C179.722 398.079 172.545 393.875 165.74 389.118C163.56 387.602 161.038 386.652 158.401 386.354C155.763 386.055 153.092 386.418 150.63 387.409L105.74 405.479C103.361 406.384 100.738 406.422 98.3346 405.584C95.9309 404.746 93.8999 403.087 92.5995 400.898L49.8295 326.898C48.5436 324.688 48.0841 322.092 48.5328 319.574C48.9814 317.056 50.3091 314.779 52.2795 313.148L90.4895 283.148C92.5829 281.487 94.2281 279.329 95.2759 276.87C96.3237 274.411 96.7408 271.729 96.4895 269.069C96.1295 264.899 95.9095 260.739 95.9095 256.569C95.9095 252.399 96.1195 248.299 96.4895 244.219C96.7134 241.574 96.2758 238.915 95.2161 236.481C94.1565 234.048 92.5081 231.916 90.4195 230.279L52.2295 200.279C50.2911 198.639 48.9914 196.37 48.5581 193.869C48.1247 191.368 48.5855 188.794 49.8595 186.599L92.6295 112.599C93.9284 110.408 95.9587 108.747 98.3625 107.907C100.766 107.068 103.389 107.103 105.77 108.009L150.67 126.089C153.146 127.074 155.828 127.431 158.475 127.125C161.123 126.82 163.653 125.862 165.84 124.339C172.692 119.62 179.893 115.428 187.38 111.799C189.733 110.654 191.769 108.949 193.307 106.831C194.846 104.714 195.839 102.251 196.2 99.6585L202.93 51.7685C203.372 49.2393 204.678 46.9422 206.626 45.2696C208.574 43.597 211.043 42.6529 213.61 42.5985H299.15C301.674 42.6422 304.109 43.5445 306.052 45.1568C307.995 46.7692 309.331 48.9953 309.84 51.4685L316.56 99.2885C316.937 101.909 317.956 104.396 319.526 106.528C321.096 108.66 323.169 110.371 325.56 111.509C333.037 115.118 340.214 119.322 347.02 124.079C349.199 125.595 351.721 126.545 354.358 126.843C356.996 127.142 359.667 126.779 362.13 125.789L407.02 107.719C409.398 106.813 412.021 106.775 414.424 107.613C416.828 108.451 418.859 110.11 420.16 112.299L462.93 186.299C464.215 188.509 464.675 191.105 464.226 193.623C463.778 196.141 462.45 198.418 460.48 200.049L422.27 230.049C420.167 231.705 418.512 233.861 417.456 236.32C416.399 238.779 415.974 241.463 416.22 244.129C416.55 248.269 416.77 252.429 416.77 256.599Z"
						stroke={theme.colors.text}
						strokeWidth={10}
					/>
				</AnimatedSvg>
				<AnimatedSvg
					width="150"
					height="150"
					viewBox="0 0 513 513"
					fill="none"
					style={[
						bulbanimatedStyle,
						{
							position: "absolute",
							top: SCREEN_HEIGHT * 0.15,
							left: SCREEN_WIDTH * 0.35,
						},
					]}>
					<Path
						d="M304.38 384.598V360.598C304.38 331.598 335.92 304.168 356.38 284.598C385.22 257.028 400.38 219.988 400.38 176.598C400.38 96.5985 336.65 32.5985 256.38 32.5985C237.454 32.5457 218.705 36.2343 201.211 43.4523C183.716 50.6703 167.821 61.2752 154.438 74.6574C141.056 88.0395 130.451 103.935 123.233 121.43C116.015 138.924 112.327 157.673 112.38 176.598C112.38 218.438 128.19 257.988 156.38 284.598C176.73 303.808 208.38 331.298 208.38 360.598V384.598M224.38 480.598H288.38M208.38 432.598H304.38M256.38 384.598V256.598"
						stroke={theme.colors.contrast}
						strokeWidth={10}
						stroke-linecap="round"
						stroke-linejoin="round"
					/>
					<Path
						d="M294.38 240.599C294.38 240.599 272.87 256.599 256.38 256.599C239.89 256.599 218.38 240.599 218.38 240.599"
						stroke={theme.colors.contrast}
						strokeWidth={10}
						stroke-linecap="round"
						stroke-linejoin="round"
					/>
				</AnimatedSvg>
			</Box>
		</Container>
	)
}

export default Developing
